<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Linux下常用压缩/解压命令小结 | Lifesucks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Lifesucks</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-archive-cmds" class="h-entry article article-type-post"
  itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/archive-cmds/" class="article-date">
  <time class="dt-published" datetime="2022-11-24T23:41:28.000Z" itemprop="datePublished">2022-11-25</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 class="p-name article-title" itemprop="headline name">
      Linux下常用压缩/解压命令小结
    </h1>
  

        </header>
        
          <div class="e-content article-entry" itemprop="articleBody">
            
                      <p>最近又时常在Linux下打包东西，所以整理一下常用格式的打包/解压命令。<br>后续有其他格式就继续在这片文章里更新。</p>
<span id="more"></span>

<h1 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -cf data.tar dir1 dir1 file1 file2 # 将dir1 dir2 file1 file2 打包为 data.tar</span><br><span class="line">tar -tf data.tar                       # 列出包内容</span><br><span class="line">tar -xf data.tar                       # 解压data.tar</span><br><span class="line">tar -xf data.tar file1                 # 解压出指定文件</span><br></pre></td></tr></table></figure>
<p><strong>PS1</strong>：选项前面的<code>-</code>也可以省略，如<code>tar xf xx.tar</code>.<br><strong>PS2</strong>：可以用<code>v</code>查看详细信息或日志输出，如<code>tar -xvf xx.tar</code>.<br><strong>PS3</strong>： <code>tar</code>包是包含了文件的用户权限信息的。</p>
<h1 id="gz-gzip"><a href="#gz-gzip" class="headerlink" title="gz/gzip"></a>gz/gzip</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gzip file       # 将file压缩为file.gz</span><br><span class="line">gzip -d file.gz # 将file.gz还原为file</span><br><span class="line">gunzip file.gz  # 同上</span><br></pre></td></tr></table></figure>
<p><strong>PS</strong>：<code>gip/gunzip</code>默认都是在文件本身进行操作，所以要保留原始文件的话需要加上<code>-k</code>参数。</p>
<h1 id="tar-gz-tgz"><a href="#tar-gz-tgz" class="headerlink" title="tar.gz/tgz"></a>tar.gz/tgz</h1><p><code>tar.gz</code>是对<code>tar</code>包用<code>gzip</code>进行压缩，所以可以用两个命令进行操作，也可以用<code>tar</code>的<code>-z</code>参数直接操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -czf data.tgz file1 file2 dir1 dir2 # 将file1 file2 dir1 dir2 打包为 data.tgz</span><br><span class="line">tar -xzf data.tgz                       # 解压 data.tgz</span><br></pre></td></tr></table></figure>

<h1 id="tar-xz"><a href="#tar-xz" class="headerlink" title="tar.xz"></a>tar.xz</h1><p>同样，<code>tar.xz</code>是用<code>xz</code>压缩 <code>tar</code>包。一般很少见单独的<code>xz</code>包。 <code>xz</code>命令与 <code>gzip</code>参数几乎一致：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xz data.tar        # 压缩为 data.tar.xz</span><br><span class="line">xz -d data.tar.xz  # 解压为 data.tar</span><br><span class="line">xz -dk data.tar.xz # 保留源文件解压</span><br></pre></td></tr></table></figure>
<p><code>tar.xz</code>可以直接用<code>tar</code>命令的 <code>-J</code>参数直接处理：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -cJf data.tar.xz dir1 dir2 file1 file2</span><br><span class="line">tar -xJf data.tar.xz</span><br></pre></td></tr></table></figure>
<p><strong>PS</strong>：其实，<code>tar.gz</code>、<code>tar.xz</code>等格式，都可以用<code>-a</code>参数让<code>tar</code>命令自动检测：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xaf data.tar.xz</span><br><span class="line">tar -xaf data.tgz</span><br></pre></td></tr></table></figure>

<h1 id="rar"><a href="#rar" class="headerlink" title="rar"></a>rar</h1><p><code>rar</code>包提供了<code>rar</code>命令和 <code>unrar</code>命令。可以这样安装它：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yay -S rar      # archlinux</span><br><span class="line">apt install rar # ubuntu</span><br></pre></td></tr></table></figure>
<p><code>unrar</code>是<code>rar</code>的子集，只包含了解压相关操作，所以一般可以只用<code>rar</code>命令。</p>
<p>常规命令如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rar a data.rar file1           # 将 file1 压缩为 data.rar</span><br><span class="line">rar l data.rar                 # 列出 data.rar 内容</span><br><span class="line">rar a data.rar file2 dir1 dir2 # 将 file2 dir1 dir2 添加到 data.rar中</span><br><span class="line">rar x data.rar                 # 解压 data.rar</span><br></pre></td></tr></table></figure>

<p>添加密码及压缩分卷：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 压缩 file1, 分卷大小为1M, 密码为 <span class="comment">#123,</span></span> </span><br><span class="line">rar a -v1m -p\#123 data.rar file1 file2</span><br></pre></td></tr></table></figure>
<p>压缩完成后，得到<code>data.part01.rar</code>, <code>data.part02.rar</code>等等。<br><strong>注意</strong>：命令行特殊字符需要转义，例如上面的<code>\#</code>.</p>
<p>解压可以指定任意分卷：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rar x data.part02.rar</span><br><span class="line">rar x -p \#123 data.part01.rar</span><br></pre></td></tr></table></figure>
<p>解压时如果参数没有提供密码，会在命令行提示输入密码，并询问是否用于所有文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rar x data.part01.rar</span> </span><br><span class="line">...</span><br><span class="line">Enter password (will not be echoed) for file1: </span><br><span class="line">...</span><br><span class="line">file2 - use current password ? [Y]es, [N]o, [A]ll A</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><strong>PS</strong>：无法向分卷继续添加文件。</p>
<h1 id="jar"><a href="#jar" class="headerlink" title="jar"></a>jar</h1><p>以jar包形式运行服务时，常用<code>jar</code>命令来查看、更新包内配置文件，甚至是类文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jar -tf svc.jar                 # 列出jar包内容，可以用-v参数查看文件时间戳、大小等</span><br><span class="line">jar -xf svc.jar                 # 解压整个jar</span><br><span class="line">jar -xf svc.jar application.yml # 解压确定文件</span><br><span class="line">jar -uf svc.jar application.yml # 更新确定文件</span><br></pre></td></tr></table></figure>

<p>同样，命令中的<code>-</code>可以省略：<code>jar xf svc.jar</code>.<br>需要注意的是，解压某一文件的时候，路径可以从<code>jar tf svc.jar</code>的输出中得到，解压后，也会以相同的路径被存放。<br>更新时，也需要本地文件具有相同的目录结构。</p>
<p>以<code>META-INF/MANIFEST.MF</code>为例。</p>
<ul>
<li>执行<code>jar xf svc.jar META-INF/MANIFEST.MF</code>，得到<code>./META-INF/MANIFEST.MF</code></li>
<li>执行<code>jar uf svc.jar META-INF/MANIFEST.MF</code>，会将<code>./META-INF/MANIFEST.MF</code>更新到<code>svc.jar</code>内的<code>META-INF/MANIFEST.MF</code></li>
</ul>

                        
          </div>
          <footer class="article-footer">
            <!--<a data-url="https://blogs.lifesucks.cn/archive-cmds/" data-id="clcbucfif0001tus1c6xm93kp" data-title="Linux下常用压缩/解压命令小结"
              class="article-share-link">
              Share
            </a>-->
            
              <a href="/archive-cmds/#comments" class="article-comment-link">
                <span class="post-comments-count valine-comment-count" data-xid="/archive-cmds/"
                  itemprop="commentCount"></span>
                Comments
              </a>
            
			
                
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jar/" rel="tag">jar</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rar/" rel="tag">rar</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tar/" rel="tag">tar</a></li></ul>

          </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/write-a-tcp-tunnel/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          从零开始的内网穿透
        
      </div>
    </a>
  
  
    <a href="/my-2022-summary/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">我的2022年度总结</div>
    </a>
  
</nav>

      
</article>


    
      <section id="comments" class="vcomment">

      </section>
      
</section>
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/" rel="tag">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AF%AD%E6%B3%95/" rel="tag">Java语法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blogs/" rel="tag">blogs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cg/" rel="tag">cg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grammar/" rel="tag">grammar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jar/" rel="tag">jar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rar/" rel="tag">rar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tar/" rel="tag">tar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" rel="tag">动态代理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/write-a-tcp-tunnel/">从零开始的内网穿透</a>
          </li>
        
          <li>
            <a href="/archive-cmds/">Linux下常用压缩/解压命令小结</a>
          </li>
        
          <li>
            <a href="/my-2022-summary/">我的2022年度总结</a>
          </li>
        
          <li>
            <a href="/auto-called-functions/">写一些能够被自动调用的函数</a>
          </li>
        
          <li>
            <a href="/linux-term-effects/">在Linux终端下搞颜色!</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cg/">cg</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/">日常折腾</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%92%8C%E5%B7%A5%E5%85%B7/">开发环境和工具</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li></ul>
    </div>
  </div>

  
</aside>
      </div>
      <footer id="footer">
  

  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 By Autoload<br>
      Driven - <a href="https://hexo.io/" target="_blank">Hexo</a>|Theme - <a href="https://github.com/autoload/hexo-theme-auto" target="_blank">Auto</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/script.js"></script>




  
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

<script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = 'nick,mail,link'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
    });
    var notify = 'false' == true;
    var verify = 'false' == true;
    new Valine({
        el: '.vcomment',
        notify: notify,
        verify: verify,
        appId: "ELq6YoLEdIYWW6r5D9h9w0wO-gzGzoHsz",
        appKey: "IKk1GUtDqU8rP1sUjm2L1YJQ",
        placeholder: "say sth?",
        pageSize:'10',
        avatar:'mm',
        lang:'en',
        visitor:'false'
    });
</script>

  </div>
</body>
</html>